<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Открытие файлов BIL, BIP или BSQ в QGIS &mdash; QGIS Tutorials and Tips</title>
    
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootswatch-3.2.0/united/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/translations.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-3.2.0/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>
    <link rel="top" title="QGIS Tutorials and Tips" href="../index.html" />
    <link rel="next" title="Первые шаги в программировании на Python" href="getting_started_with_pyqgis.html" />
    <link rel="prev" title="Подсчет числа вершин в слое" href="counting_vertices.html" />

<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">

<!-- Google Analytics -->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-690672-13', 'qgistutorials.com');
  ga('require', 'displayfeatures');
  ga('send', 'pageview');
</script>


  </head>
  <body role="document">

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../index.html"><img src="../_static/logo.png">
          QGIS Tutorials and Tips</a>
        <span class="navbar-text navbar-version pull-left"><b>v1.0</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="../index.html">Tutorials List <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul class="current">
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Введение</a></li>
<li class="toctree-l1"><a class="reference internal" href="making_a_map.html">Создание карты</a></li>
<li class="toctree-l1"><a class="reference internal" href="working_with_attributes.html">Работа с атрибутами</a></li>
<li class="toctree-l1"><a class="reference internal" href="importing_spreadsheets_csv.html">Импорт таблиц или CSV-файлов</a></li>
<li class="toctree-l1"><a class="reference internal" href="using_plugins.html">Использование модулей расширения</a></li>
<li class="toctree-l1"><a class="reference internal" href="downloading_osm_data.html">Поиск и загрузка данных OpenStreetMap</a></li>
<li class="toctree-l1"><a class="reference internal" href="basic_vector_styling.html">Основная стилизация векторного слоя</a></li>
<li class="toctree-l1"><a class="reference internal" href="calculating_line_lengths.html">Подсчёт длины линий и статистики</a></li>
<li class="toctree-l1"><a class="reference internal" href="raster_styling_and_analysis.html">Основы работы со стилями и анализа растровых данных</a></li>
<li class="toctree-l1"><a class="reference internal" href="raster_mosaicing_and_clipping.html">Создание мозаик и обрезка растров</a></li>
<li class="toctree-l1"><a class="reference internal" href="working_with_terrain.html">Работа с цифровой моделью рельефа</a></li>
<li class="toctree-l1"><a class="reference internal" href="working_with_wms.html">Работа с данными WMS</a></li>
<li class="toctree-l1"><a class="reference internal" href="working_with_projections.html">Working with Projections</a></li>
<li class="toctree-l1"><a class="reference internal" href="georeferencing_basics.html">Географическая привязка топографических листов и сканированных карт</a></li>
<li class="toctree-l1"><a class="reference internal" href="advanced_georeferencing.html">Привязка аэрофотоснимков</a></li>
<li class="toctree-l1"><a class="reference internal" href="digitizing_basics.html">Оцифровка картографических данных</a></li>
<li class="toctree-l1"><a class="reference internal" href="performing_table_joins.html">Установление связей между таблицами</a></li>
<li class="toctree-l1"><a class="reference internal" href="performing_spatial_joins.html">Выполнение пространственных присоединений</a></li>
<li class="toctree-l1"><a class="reference internal" href="points_in_polygon.html">Анализ количества точек в полигонах</a></li>
<li class="toctree-l1"><a class="reference internal" href="creating_heatmaps.html">Создание тепловых карт</a></li>
<li class="toctree-l1"><a class="reference internal" href="performing_spatial_queries.html">Выполнение пространственных запросов</a></li>
<li class="toctree-l1"><a class="reference internal" href="nearest_neighbor_analysis.html">Анализ ближайшего соседства</a></li>
<li class="toctree-l1"><a class="reference internal" href="sampling_raster_data.html">Отбор проб растровых данных с помощью точек или полигонов</a></li>
<li class="toctree-l1"><a class="reference internal" href="interpolating_point_data.html">Интерполяция точечных данных</a></li>
<li class="toctree-l1"><a class="reference internal" href="batch_processing.html">Выполнение пакетных файлов с помощью среды обработки</a></li>
<li class="toctree-l1"><a class="reference internal" href="processing_graphical_modeler.html">Автоматизация сложных рабочих процессов с помощью Редактора моделей</a></li>
<li class="toctree-l1"><a class="reference internal" href="automating_map_creation.html">Автоматизация создания карт с помощью Print Composer Atlas</a></li>
<li class="toctree-l1"><a class="reference internal" href="using_qgis_browser.html">Использование QGIS Browser</a></li>
<li class="toctree-l1"><a class="reference internal" href="counting_vertices.html">Подсчет числа вершин в слое</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="">Открытие файлов BIL, BIP или BSQ в QGIS</a></li>
<li class="toctree-l1"><a class="reference internal" href="getting_started_with_pyqgis.html">Первые шаги в программировании на Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="building_a_python_plugin.html">Создание модуля на Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="custom_python_functions.html">Использование пользовательских  выражений Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="processing_python_scripts.html">Writing Python Scripts for Processing Framework</a></li>
<li class="toctree-l1"><a class="reference internal" href="running_qgis_jobs.html">Running and Scheduling QGIS Processing Jobs</a></li>
<li class="toctree-l1"><a class="reference internal" href="find_neighbor_polygons.html">Нахождение соседних полигонов в слое</a></li>
<li class="toctree-l1"><a class="reference internal" href="performing_table_joins_pyqgis.html">Performing Table Joins (PyQGIS)</a></li>
<li class="toctree-l1"><a class="reference internal" href="web_mapping_with_qgis2web.html">Веб картография с QGIS2Web</a></li>
<li class="toctree-l1"><a class="reference internal" href="creating_basemaps_with_qtiles.html">Creating Basemaps with QTiles</a></li>
<li class="toctree-l1"><a class="reference internal" href="learning_resources.html">Учебные материалы по QGIS</a></li>
<li class="toctree-l1"><a class="reference internal" href="credits.html">Источники данных</a></li>
</ul>
</ul>
</li>
              
            
            
              
                
  <li>
    <a href="counting_vertices.html" title="Previous Chapter: Подсчет числа вершин в слое"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; Подсчет числа ве...</span>
    </a>
  </li>
  <li>
    <a href="getting_started_with_pyqgis.html" title="Next Chapter: Первые шаги в программировании на Python"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">Первые шаги в пр... &raquo;</span>
    </a>
  </li>
              
            
            

            

            
              <li class="hidden-sm"></li>
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
      <div class="col-md-3">
        <div id="sidebar" class="bs-sidenav" role="complementary"><h4>Author</h4>
<p>Ujaval Gandhi</p>
<a href="https://twitter.com/intent/follow?screen_name=spatialthoughts" class="twitter-follow-button" data-show-count="false">Follow @spatialthoughts</a>

<h4>Change Language</h4>
<form role="form" class="sidebar-form sidebar-left">
<select id="languages" class="form-control select-mini">
  <option value="en">English</option>
  <option value="zh_TW">Chinese (Taiwan)</option>
  <option value="nl">Dutch</option>
  <option value="fi_FI">Finnish</option>
  <option value="fr">French</option>
  <option value="de">German</option>
  <option value="el">Greek</option>
  <option value="id">Indonesian</option>
  <option value="it">Italian</option>
  <option value="ko">Korean</option>
  <option value="pt_BR">Portuguese</option>
  <option value="ro">Romanian</option>
  <option value="ru">Russian</option>
  <option value="sl">Slovenian</option>
  <option value="es">Spanish</option>
  <option value="th">Thai</option>
  <option value="tr">Turkish</option>
  <option value="uk">Ukrainian</option>
  <option value="vi">Vietnamese</option>
</select>
</form>



  


<h4>Share</h4>
<div class="addthis_sharing_toolbox"></div>
        </div>
      </div>
    <div class="col-md-9">
      

  <div class="section" id="open-bil-bip-or-bsq-files-in-qgis">
<h1>Открытие файлов BIL, BIP или BSQ в QGIS<a class="headerlink" href="#open-bil-bip-or-bsq-files-in-qgis" title="Ссылка на этот заголовок">¶</a></h1>
<p>При работе с данными дистанционного зондирования и другими научными данными, часто попадаются данные в форматах типа  <strong>BIL</strong>, <strong>BIP</strong> or <strong>BSQ</strong>. <a class="reference external" href="http://www.gdal.org">Библиотека GDAL</a>, которая используется QGIS для чтения растровых файлов, имеет поддержку для этих форматов, но она не может открыть эти файлы сама по себе. Мы пройдем через процесс создания файлов поддержки, так что эти форматы могут быть прочитаны QGIS.</p>
<p>Band interleaved by line (BIL), band interleaved by pixel (BIP), and band
sequential (BSQ) are common methods of organizing image data for multiband
images. (<a class="reference external" href="http://webhelp.esri.com/arcgisdesktop/9.2/index.cfm?TopicName=BIL,_BIP,_and_BSQ_raster_files">Read more about these formats</a>)</p>
<p>Typically, these files are accompanies by a <code class="docutils literal"><span class="pre">.hdr</span></code> file. If your dataset came
with a <code class="docutils literal"><span class="pre">.hdr</span></code> file, make sure the root name of the .bil, .bsq or .bip file and
the .hdf files match and they are in the same directory. For example, if the
file is called <code class="docutils literal"><span class="pre">image.bil</span></code> , the associated file should be named <code class="docutils literal"><span class="pre">image.hdr</span></code> and
present in the same directory as the <code class="docutils literal"><span class="pre">image.bil</span></code> file. Then when you go to
<span class="menuselection">Layer ‣ Add Raster Layer</span>, select the <code class="docutils literal"><span class="pre">image.bil</span></code> file and
it will open without problems.</p>
<p>Many a times, the files do not come with an associated <code class="docutils literal"><span class="pre">.hdr</span></code> file. In such
cases, you must create this file by hand as shown in this tutorial.</p>
<div class="section" id="get-the-data">
<h2>Получение данных<a class="headerlink" href="#get-the-data" title="Ссылка на этот заголовок">¶</a></h2>
<p>We will use the <a class="reference external" href="http://glcf.umd.edu/data/landcover/data.shtml">AVHRR Global Land Cover Classification data</a> from <a class="reference external" href="http://glcf.umd.edu/">Global Land Cover
Facility</a> as an example.</p>
<p>The Global Coverage datasets are distributed as <strong>BSQ</strong> files. Download the <a class="reference external" href="ftp://ftp.glcf.umd.edu/glcf/Global_Land_Cover/Global/1deg/gl-latlong-1deg-landcover.bsq.gz">1
Degree pixel resolution</a>
dataset.</p>
<p>For convenience, you may directly download a copy of the dataset from the link
below:</p>
<p><a class="reference external" href="http://www.qgistutorials.com/downloads/gl-latlong-1deg-landcover.bsq.gz">gl-latlong-1deg-landcover.bsq.gz</a></p>
<p>Источник данных: <a class="reference internal" href="credits.html#glcf" id="id1">[GLCF]</a></p>
</div>
<div class="section" id="procedure">
<h2>Методика<a class="headerlink" href="#procedure" title="Ссылка на этот заголовок">¶</a></h2>
<ol class="arabic simple">
<li>Unzip and extract the .bsq file. On Windows, you may use the excellent
<a class="reference external" href="http://www.7-zip.org/">7-Zip utility</a> to read and extract .gz file. You
will see that you only have a .bsq file named
<code class="docutils literal"><span class="pre">gl-latlong-1deg-landcover.bsq</span></code>.  There is no hdr file.</li>
</ol>
<img alt="../_images/1101.png" class="align-center" src="../_images/1101.png" />
<ol class="arabic simple" start="2">
<li>Note that if you try to open the <code class="docutils literal"><span class="pre">gl-latlong-1deg-landcover.bsq</span></code> file in
QGIS as it is, you will get an error message.</li>
</ol>
<img alt="../_images/240.png" class="align-center" src="../_images/240.png" />
<ol class="arabic simple" start="3">
<li>To overcome this error, we will create a header file with <code class="docutils literal"><span class="pre">.hdr</span></code> extension.
The header file contains information about the dataset and how it is organized.
Usually, this information is supplied as part of Metadata for the dataset.
If you do not have the metadata, look at the website or documentation for
clues. Some of the information can be guessed if you do not know it. In case
of this dataset, the data download page links to the <a class="reference external" href="ftp://ftp.glcf.umd.edu/glcf/Global_Land_Cover/Global/1deg/gl-latlong-1deg-landcover.glcf">metadata</a>.
Download the metadata and open it.</li>
</ol>
<img alt="../_images/327.png" class="align-center" src="../_images/327.png" />
<ol class="arabic simple" start="4">
<li>The .hdr file needs to be a plain text file in the following format. Some of
these parameters are given to us and some needs to be worked out. <a class="reference external" href="http://www.gdal.org/frmt_various.html">Learn
more about the format</a>.</li>
</ol>
<div class="highlight-none"><div class="highlight"><pre>ncols &lt;number of columns or width of the raster&gt;
nrows &lt;number of rows or height of the raster&gt;
cellsize &lt;pixel size or resolution&gt;
xllcorner &lt;X coordinate of lower-left corner of the raster&gt;
yllcorner &lt;Y coordinate of the lower-left corner of the raster&gt;
nodata_value &lt;pixel value to be ignored&gt;
nbits &lt;number of bits per pixel&gt;
pixeltype &lt;type of values stored in a pixel, typically float or integer&gt;
byteorder &lt;byte order in which image pixel values are stored, msb or lsb&gt;
</pre></div>
</div>
<ol class="arabic simple" start="5">
<li>Open a text editor and create a file in the format specified in the previous
step. Save the file as <code class="docutils literal"><span class="pre">gl-latlong-1deg-landcover.hdr</span></code>. Make sure the file
doesn’t have <code class="docutils literal"><span class="pre">.txt</span></code> at the end. Some of the values in the text files are
easy to understand. The <strong>ncols</strong> and <strong>nrows</strong> come from the metadata as the
Number of Lines and Number of Pixels per Line. The <strong>cellsize</strong> is 1 as the
Pixel resolution from the metadata. The X,Y coordinate of lower-left corner
needs to be worked out by us. Since the file covers the entire world and
units are lat/long, <strong>xllcorner</strong> and <strong>yllcorner</strong> are -180 and -90
respectively. We do not have any information about the nodata_value, so -9999
is a safe bet. From metadata again, Pixel Format is Byte, so <strong>nbits</strong> will
equal to 8 and pixeltype will be <strong>byte_unsigned</strong>. We do not have
information about the byteorder, so leave it as msbfirst. You may download
the correctly formatted HDR file from <a class="reference external" href="../../downloads/gl-latlong-1deg-landcover.hdr">here</a>.</li>
</ol>
<img alt="../_images/520.png" class="align-center" src="../_images/520.png" />
<ol class="arabic simple" start="6">
<li>Now that you have the header file, put it in the same directory as
<code class="docutils literal"><span class="pre">gl-latlong-1deg-landcover.bsq</span></code>. Then in QGIS, go to
<span class="menuselection">Layer ‣ Add Raster Layer</span>. Select
<code class="docutils literal"><span class="pre">gl-latlong-1deg-landcover.bsq</span></code> as your input and click <span class="guilabel">Open</span>.</li>
</ol>
<img alt="../_images/619.png" class="align-center" src="../_images/619.png" />
<ol class="arabic simple" start="7">
<li>In the next screen, you may be prompted to choose a CRS. Since the data is
in Lat/Long, choose <strong>WGS84 EPSG:4326</strong> as your CRS. Now you will see the
dataset loaded in QGIS.</li>
</ol>
<img alt="../_images/718.png" class="align-center" src="../_images/718.png" />
</div>
</div>





  <div id="disqus_thread"></div>
  <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>


    </div>
      
  </div>
</div>

<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2016, Ujaval Gandhi.<br/>
      Обновлено: Jul 14, 2017.<br/>
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.3.6.<br/>
    </p>
  </div>
</footer>
<div class="container">
  <p>This work is licensed under a <a href="http://creativecommons.org/licenses/by/4.0/deed.en_US">Creative Commons Attribution 4.0 International License</a></p>
</div>
<!-- Twitter Button -->
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>

<!-- Disqus comments widget -->
<script type="text/javascript">
  /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
  var disqus_shortname = 'qgistutorials'; // required: replace example with your forum shortname
  /* * * DON'T EDIT BELOW THIS LINE * * */
  (function () {
    var s = document.createElement('script'); s.async = true;
    s.type = 'text/javascript';
    s.src = '//' + disqus_shortname + '.disqus.com/count.js';
    (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
  }());
</script>

<script type="text/javascript">
  /* * * DON'T EDIT BELOW THIS LINE * * */
  (function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>

<!-- Go to www.addthis.com/dashboard to customize your tools -->
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=spatialthoughts" async="async"></script>

<!-- Script fpr language switching. Largely adapted from https://github.com/pcav/faunalia-website -->
<script>
    var currentPage = 'docs/open_bil_bip_bsq_files.html'; // coming from sphinx, always without starting '/'
    var currentLang = 'en';
    $(document).ready(function(){

        var search = new RegExp('\/[a-zA-Z_]{2,8}\/'+ currentPage, 'gi');
        var langPlusPage = window.location.href.match(search);
        // it's possible this is a index.html page called without 'index.html', try without the currentPage
        if (langPlusPage==undefined){
            search = new RegExp('\/[a-zA-Z_]{2,8}\/$', 'gi');
            langPlusPage = window.location.href.match(search);
        }

        // it's possible this is an index.html page called without 'index.html', try removing index.html
        if (langPlusPage==undefined){
            currentPage = currentPage.replace('index.html','')
            search = new RegExp('\/[a-zA-Z_]{2,8}\/'+ currentPage, 'gi');
            langPlusPage = window.location.href.match(search);
        }
        // still no langPlugPage: stop, because the language swicher will misbehave 

        if (langPlusPage == undefined || langPlusPage.length != 1){
            alert('You hit an error, please report back to us.');
            return;
        }
        langPlusPage = langPlusPage[0];
        currentLang = langPlusPage.replace(currentPage, '');

        $("#languages").val(currentLang.replace(/\//g,'')); // currentLang is something like '/nl/'

        $("#languages").change(function() {
            gotoLang($(this).val());
        });

    });

    // load current page in a different language
    function gotoLang(lang){
        var currentUrl = window.location.href;
        var newUrl = currentUrl.replace(currentLang, '/'+lang+'/');
        window.location.href = newUrl;
    }
</script>

  </body>
</html>