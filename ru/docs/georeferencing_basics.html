<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Географическая привязка топографических листов и сканированных карт &mdash; QGIS Tutorials and Tips</title>
    
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootswatch-3.2.0/united/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/translations.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-3.2.0/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>
    <link rel="top" title="QGIS Tutorials and Tips" href="../index.html" />
    <link rel="next" title="Привязка аэрофотоснимков" href="advanced_georeferencing.html" />
    <link rel="prev" title="Working with Projections" href="working_with_projections.html" />

<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">

<!-- Google Analytics -->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-690672-13', 'qgistutorials.com');
  ga('require', 'displayfeatures');
  ga('send', 'pageview');
</script>


  </head>
  <body role="document">

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../index.html"><img src="../_static/logo.png">
          QGIS Tutorials and Tips</a>
        <span class="navbar-text navbar-version pull-left"><b>v1.0</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="../index.html">Tutorials List <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul class="current">
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Введение</a></li>
<li class="toctree-l1"><a class="reference internal" href="making_a_map.html">Создание карты</a></li>
<li class="toctree-l1"><a class="reference internal" href="working_with_attributes.html">Работа с атрибутами</a></li>
<li class="toctree-l1"><a class="reference internal" href="importing_spreadsheets_csv.html">Импорт таблиц или CSV-файлов</a></li>
<li class="toctree-l1"><a class="reference internal" href="using_plugins.html">Использование модулей расширения</a></li>
<li class="toctree-l1"><a class="reference internal" href="downloading_osm_data.html">Поиск и загрузка данных OpenStreetMap</a></li>
<li class="toctree-l1"><a class="reference internal" href="basic_vector_styling.html">Основная стилизация векторного слоя</a></li>
<li class="toctree-l1"><a class="reference internal" href="calculating_line_lengths.html">Подсчёт длины линий и статистики</a></li>
<li class="toctree-l1"><a class="reference internal" href="raster_styling_and_analysis.html">Основы работы со стилями и анализа растровых данных</a></li>
<li class="toctree-l1"><a class="reference internal" href="raster_mosaicing_and_clipping.html">Создание мозаик и обрезка растров</a></li>
<li class="toctree-l1"><a class="reference internal" href="working_with_terrain.html">Работа с цифровой моделью рельефа</a></li>
<li class="toctree-l1"><a class="reference internal" href="working_with_wms.html">Работа с данными WMS</a></li>
<li class="toctree-l1"><a class="reference internal" href="working_with_projections.html">Working with Projections</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="">Географическая привязка топографических листов и сканированных карт</a></li>
<li class="toctree-l1"><a class="reference internal" href="advanced_georeferencing.html">Привязка аэрофотоснимков</a></li>
<li class="toctree-l1"><a class="reference internal" href="digitizing_basics.html">Оцифровка картографических данных</a></li>
<li class="toctree-l1"><a class="reference internal" href="performing_table_joins.html">Установление связей между таблицами</a></li>
<li class="toctree-l1"><a class="reference internal" href="performing_spatial_joins.html">Выполнение пространственных присоединений</a></li>
<li class="toctree-l1"><a class="reference internal" href="points_in_polygon.html">Анализ количества точек в полигонах</a></li>
<li class="toctree-l1"><a class="reference internal" href="creating_heatmaps.html">Создание тепловых карт</a></li>
<li class="toctree-l1"><a class="reference internal" href="performing_spatial_queries.html">Выполнение пространственных запросов</a></li>
<li class="toctree-l1"><a class="reference internal" href="nearest_neighbor_analysis.html">Анализ ближайшего соседства</a></li>
<li class="toctree-l1"><a class="reference internal" href="sampling_raster_data.html">Отбор проб растровых данных с помощью точек или полигонов</a></li>
<li class="toctree-l1"><a class="reference internal" href="interpolating_point_data.html">Интерполяция точечных данных</a></li>
<li class="toctree-l1"><a class="reference internal" href="batch_processing.html">Выполнение пакетных файлов с помощью среды обработки</a></li>
<li class="toctree-l1"><a class="reference internal" href="processing_graphical_modeler.html">Автоматизация сложных рабочих процессов с помощью Редактора моделей</a></li>
<li class="toctree-l1"><a class="reference internal" href="automating_map_creation.html">Автоматизация создания карт с помощью Print Composer Atlas</a></li>
<li class="toctree-l1"><a class="reference internal" href="using_qgis_browser.html">Использование QGIS Browser</a></li>
<li class="toctree-l1"><a class="reference internal" href="counting_vertices.html">Подсчет числа вершин в слое</a></li>
<li class="toctree-l1"><a class="reference internal" href="open_bil_bip_bsq_files.html">Открытие файлов BIL, BIP или BSQ в QGIS</a></li>
<li class="toctree-l1"><a class="reference internal" href="getting_started_with_pyqgis.html">Первые шаги в программировании на Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="building_a_python_plugin.html">Создание модуля на Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="custom_python_functions.html">Использование пользовательских  выражений Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="processing_python_scripts.html">Writing Python Scripts for Processing Framework</a></li>
<li class="toctree-l1"><a class="reference internal" href="running_qgis_jobs.html">Running and Scheduling QGIS Processing Jobs</a></li>
<li class="toctree-l1"><a class="reference internal" href="find_neighbor_polygons.html">Нахождение соседних полигонов в слое</a></li>
<li class="toctree-l1"><a class="reference internal" href="performing_table_joins_pyqgis.html">Performing Table Joins (PyQGIS)</a></li>
<li class="toctree-l1"><a class="reference internal" href="web_mapping_with_qgis2web.html">Веб картография с QGIS2Web</a></li>
<li class="toctree-l1"><a class="reference internal" href="creating_basemaps_with_qtiles.html">Creating Basemaps with QTiles</a></li>
<li class="toctree-l1"><a class="reference internal" href="learning_resources.html">Учебные материалы по QGIS</a></li>
<li class="toctree-l1"><a class="reference internal" href="credits.html">Источники данных</a></li>
</ul>
</ul>
</li>
              
            
            
              
                
  <li>
    <a href="working_with_projections.html" title="Previous Chapter: Working with Projections"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; Working with Pro...</span>
    </a>
  </li>
  <li>
    <a href="advanced_georeferencing.html" title="Next Chapter: Привязка аэрофотоснимков"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">Привязка аэрофот... &raquo;</span>
    </a>
  </li>
              
            
            

            

            
              <li class="hidden-sm"></li>
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
      <div class="col-md-3">
        <div id="sidebar" class="bs-sidenav" role="complementary"><h4>Author</h4>
<p>Ujaval Gandhi</p>
<a href="https://twitter.com/intent/follow?screen_name=spatialthoughts" class="twitter-follow-button" data-show-count="false">Follow @spatialthoughts</a>

<h4>Change Language</h4>
<form role="form" class="sidebar-form sidebar-left">
<select id="languages" class="form-control select-mini">
  <option value="en">English</option>
  <option value="zh_TW">Chinese (Taiwan)</option>
  <option value="nl">Dutch</option>
  <option value="fi_FI">Finnish</option>
  <option value="fr">French</option>
  <option value="de">German</option>
  <option value="el">Greek</option>
  <option value="id">Indonesian</option>
  <option value="it">Italian</option>
  <option value="ko">Korean</option>
  <option value="pt_BR">Portuguese</option>
  <option value="ro">Romanian</option>
  <option value="ru">Russian</option>
  <option value="sl">Slovenian</option>
  <option value="es">Spanish</option>
  <option value="th">Thai</option>
  <option value="tr">Turkish</option>
  <option value="uk">Ukrainian</option>
  <option value="vi">Vietnamese</option>
</select>
</form>



  


<h4>Share</h4>
<div class="addthis_sharing_toolbox"></div>
        </div>
      </div>
    <div class="col-md-9">
      

  <div class="section" id="georeferencing-topo-sheets-and-scanned-maps">
<h1>Географическая привязка топографических листов и сканированных карт<a class="headerlink" href="#georeferencing-topo-sheets-and-scanned-maps" title="Ссылка на этот заголовок">¶</a></h1>
<p>Большинство проектов ГИС требует геопривязки некоторых растровых данных. <em>Геопривязка</em> - это процесс присвоения координат из реального мира каждой точке растра. Часто эти координаты получают с помощью полевых измерений, собирая координаты с помощью GPS-приемника в нескольких легко опознаваемых точках снимка или карты. В некоторых случаях, когда вы хотите оцифровать отсканированные карты, вы можете получить координаты из маркировки на самом изображении карты. Используя эти выборочные координаты, или опорные точки (GCP), изображение деформируется и подгоняется под выбранную систему координат. В этом уроке я расскажу о концепциях, стратегиях и инструментах QGIS для достижения высокой точности привязки.</p>
<div class="section" id="overview-of-the-task">
<h2>Обзор задачи<a class="headerlink" href="#overview-of-the-task" title="Ссылка на этот заголовок">¶</a></h2>
<p>Мы будем использовать отсканированную карту юга Индии 1870 года и привяжем ее используя QGIS.</p>
<div class="section" id="other-skills-you-will-learn">
<h3>Вы научитесь также<a class="headerlink" href="#other-skills-you-will-learn" title="Ссылка на этот заголовок">¶</a></h3>
<ul class="simple">
<li><p class="first">Определять датум и систему координат для старых карт.</p>
</li>
</ul>
</div>
</div>
<div class="section" id="get-the-data">
<h2>Получение данных<a class="headerlink" href="#get-the-data" title="Ссылка на этот заголовок">¶</a></h2>
<p>Сайт <a class="reference external" href="http://www.hipkiss.org/data/maps.html">Hipkiss’s Scanned Old Maps</a> содержит замечательную коллекцию отсканированных карт без авторских прав, которые можно использовать для исследований.</p>
<p>Загрузите <a class="reference external" href="http://www.hipkiss.org/data/maps/william-mackenzie_gallery-of-geography_1870_southern-india_3975_3071_600.jpg">карту южной Индии 1870 года</a> и сохраните ее как изображение JPG на жестком дискe.</p>
<p>For convenience, you may directly download a copy of the dataset from the link
below:</p>
<p><a class="reference external" href="http://www.qgistutorials.com/downloads/1870_southern-india.jpg">1870_southern_india.jpg</a></p>
</div>
<div class="section" id="procedure">
<h2>Методика<a class="headerlink" href="#procedure" title="Ссылка на этот заголовок">¶</a></h2>
<p>1.Georeferencing in QGIS is done via the ‘Georeferencer GDAL’ plugin. This is a
core plugin - meaning it is already part of your QGIS installation. You just
need to enable it. Go to <span class="menuselection">Plugins ‣ Manage and Install
Plugins</span> and enable the <span class="guilabel">Georeferencer GDAL</span> plugin in the
<span class="guilabel">Installed</span> tab. See <a class="reference internal" href="using_plugins.html"><em>Использование модулей расширения</em></a> for more details on how to
work with plugins.</p>
<img alt="../_images/150.png" class="align-center" src="../_images/150.png" />
<ol class="arabic simple" start="2">
<li><p class="first">Модуль установлен в меню Растр. Нажмите на <span class="menuselection">Raster ‣ Georeferencer ‣ Georeferencer</span> чтобы открыть модуль.</p>
</li>
</ol>
<img alt="../_images/227.png" class="align-center" src="../_images/227.png" />
<ol class="arabic simple" start="3">
<li><p class="first">Окно модуля разделено на 2 части: верхнюю часть, где будет отображаться растр, и нижнюю часть, где появится таблица, показывающая ваши опорные точки.</p>
</li>
</ol>
<img alt="../_images/318.png" class="align-center" src="../_images/318.png" />
<ol class="arabic simple" start="4">
<li><p class="first">Теперь мы откроем наше изображение JPG. Перейдите к <span class="menuselection">File ‣ Open Raster</span>. Перейдите к загруженному изображению отсканированной карты и нажмите <span class="guilabel">Open</span>.</p>
</li>
</ol>
<img alt="../_images/413.png" class="align-center" src="../_images/413.png" />
<ol class="arabic simple" start="5">
<li><p class="first">На следующем экране, вас попросят указать систему координат для растра (СК). Это нужно, чтобы уточнить проекцию и датум ваших контрольных точек. Если вы получили опорные точки с помощью GPS-устройства, ваша система координат будет WGS84. Если вы привязываете отсканированную карту типа этой, вы можете получить информацию о СК из самой карты. Глядя на наше изображение карты, видим только, что координаты в формате широта/долгота. Там нет информации о датуме, так что мы должны самостоятельно выбрать подходящий датум. Поскольку это Индия, и карта очень старая, можно поспорить, датум Everest 1830 даст нам хорошие результаты.</p>
</li>
</ol>
<img alt="../_images/513.png" class="align-center" src="../_images/513.png" />
<ol class="arabic simple" start="6">
<li><p class="first">Вы увидите, что изображение загрузится в верхней части.</p>
</li>
</ol>
<img alt="../_images/612.png" class="align-center" src="../_images/612.png" />
<ol class="arabic simple" start="7">
<li><p class="first">Вы можете использовать кнопки масштабирования или сдвига с панели инструментов чтобы подробнее изучить карту.</p>
</li>
</ol>
<img alt="../_images/712.png" class="align-center" src="../_images/712.png" />
<ol class="arabic simple" start="8">
<li><p class="first">Теперь нам нужно назначить координаты некоторым точкам на этой карте. Если вы посмотрите внимательно, вы увидите координатную сетку с разметкой. Используя эту сетку, можно определить X и Y координаты точек, где сетки пересекаются. Нажмите на кнопку <span class="guilabel">Add Point</span> на панели инструментов.</p>
</li>
</ol>
<img alt="../_images/812.png" class="align-center" src="../_images/812.png" />
<ol class="arabic simple" start="9">
<li>In the pop-up window, enter the coordinates. Remember that X=longitude and
Y=latitude.  Click <span class="guilabel">OK</span>.</li>
</ol>
<img alt="../_images/911.png" class="align-center" src="../_images/911.png" />
<ol class="arabic simple" start="10">
<li>You will notice the GCP table now has a row with details of your first GCP.</li>
</ol>
<img alt="../_images/1011.png" class="align-center" src="../_images/1011.png" />
<ol class="arabic simple" start="11">
<li>Similarly, add at least 4 GCPs covering the entire image. The more points
you have, the more accurate your image is registered to the target
coordinates.</li>
</ol>
<img alt="../_images/1114.png" class="align-center" src="../_images/1114.png" />
<ol class="arabic simple" start="12">
<li>Once you have enough points, go to <span class="menuselection">Settings -&gt;
Transformation settings</span>.</li>
</ol>
<img alt="../_images/1213.png" class="align-center" src="../_images/1213.png" />
<ol class="arabic simple" start="13">
<li>In the <span class="guilabel">Transformation settings</span> dialog, choose the
<span class="guilabel">Transformation type</span> as <span class="guilabel">Thin Plate Spline</span>. Name your
output raster as  <span class="guilabel">1870_southern_india_modified.tif</span>. Choose
<span class="guilabel">EPSG:4326</span> as the target SRS so the resulting image is in a
widely compatible datum. Make sure the <span class="guilabel">Load in QGIS when done</span>
option is checked. CLick <span class="guilabel">OK</span>.</li>
</ol>
<img alt="../_images/1311.png" class="align-center" src="../_images/1311.png" />
<ol class="arabic simple" start="14">
<li>Back in the <span class="guilabel">Georeferencer</span> window, go to <span class="menuselection">File
‣ Start georeferencing</span>. This will start the process of warping the image
using the GCPs and creating the target raster.</li>
</ol>
<img alt="../_images/1410.png" class="align-center" src="../_images/1410.png" />
<ol class="arabic simple" start="15">
<li>Once the process finishes, you will see the georeferenced layer loaded in
QGIS.</li>
</ol>
<img alt="../_images/1510.png" class="align-center" src="../_images/1510.png" />
<ol class="arabic simple" start="16">
<li>The georeferencing is now complete. But as always, it&#8217;s a good practice to
verify your work. How do we check if our georeferencing is accurate?
In this case, load the country boundaries shapefile from a trusted source
like the Natural Earth dataset and compare them. You will notice they match
up pretty nicely. There is some error and it can be further improved by
taking more control points, changing transformation parameters and trying a
different datum.</li>
</ol>
<img alt="../_images/169.png" class="align-center" src="../_images/169.png" />
</div>
</div>





  <div id="disqus_thread"></div>
  <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>


    </div>
      
  </div>
</div>

<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2016, Ujaval Gandhi.<br/>
      Обновлено: Dec 05, 2017.<br/>
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.3.6.<br/>
    </p>
  </div>
</footer>
<div class="container">
  <p>This work is licensed under a <a href="http://creativecommons.org/licenses/by/4.0/deed.en_US">Creative Commons Attribution 4.0 International License</a></p>
</div>
<!-- Twitter Button -->
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>

<!-- Disqus comments widget -->
<script type="text/javascript">
  /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
  var disqus_shortname = 'qgistutorials'; // required: replace example with your forum shortname
  /* * * DON'T EDIT BELOW THIS LINE * * */
  (function () {
    var s = document.createElement('script'); s.async = true;
    s.type = 'text/javascript';
    s.src = '//' + disqus_shortname + '.disqus.com/count.js';
    (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
  }());
</script>

<script type="text/javascript">
  /* * * DON'T EDIT BELOW THIS LINE * * */
  (function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>

<!-- Go to www.addthis.com/dashboard to customize your tools -->
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=spatialthoughts" async="async"></script>

<!-- Script fpr language switching. Largely adapted from https://github.com/pcav/faunalia-website -->
<script>
    var currentPage = 'docs/georeferencing_basics.html'; // coming from sphinx, always without starting '/'
    var currentLang = 'en';
    $(document).ready(function(){

        var search = new RegExp('\/[a-zA-Z_]{2,8}\/'+ currentPage, 'gi');
        var langPlusPage = window.location.href.match(search);
        // it's possible this is a index.html page called without 'index.html', try without the currentPage
        if (langPlusPage==undefined){
            search = new RegExp('\/[a-zA-Z_]{2,8}\/$', 'gi');
            langPlusPage = window.location.href.match(search);
        }

        // it's possible this is an index.html page called without 'index.html', try removing index.html
        if (langPlusPage==undefined){
            currentPage = currentPage.replace('index.html','')
            search = new RegExp('\/[a-zA-Z_]{2,8}\/'+ currentPage, 'gi');
            langPlusPage = window.location.href.match(search);
        }
        // still no langPlugPage: stop, because the language swicher will misbehave 

        if (langPlusPage == undefined || langPlusPage.length != 1){
            alert('You hit an error, please report back to us.');
            return;
        }
        langPlusPage = langPlusPage[0];
        currentLang = langPlusPage.replace(currentPage, '');

        $("#languages").val(currentLang.replace(/\//g,'')); // currentLang is something like '/nl/'

        $("#languages").change(function() {
            gotoLang($(this).val());
        });

    });

    // load current page in a different language
    function gotoLang(lang){
        var currentUrl = window.location.href;
        var newUrl = currentUrl.replace(currentLang, '/'+lang+'/');
        window.location.href = newUrl;
    }
</script>

  </body>
</html>